<script> // 将标签文本中的js语法加粗(利用正则表达式选中相关的字符串)
  function highlightCode(node, keywords) {
    var text = node.textContent
    node.textContent = '' // clear the node
    var match, pos = 0
    while(match = keywords.exec(text)) {
      var before = text.slice(pos, match.index)
      node.appendChild(document.createTextNode(before))
      var strong = document.createElement('strong')
      strong.appendChild(document.createTextNode(match[0]))
      node.appendChild(strong)
      pos = keywords.lastIndex
    }
    var after = text.slice(pos)
    node.appendChild(document.createTextNode(after))
  }

  var languages = {
    javascript: /\b(function|return|var)\b/g
  }
  function highlightAllCode() {
    var pres = document.body.getElementsByTagName('pre')
    for(var i = 0 ; i < pres.length ; i++) {
      var pre = pres[i]
      var lang = pre.getAttribute('data-language')
      if(languages.hasOwnProperty(lang))
        highlightCode(pre, languages[lang])
    }
  }
  // Here is an example:
</script>
<p>Here it is, the identify function:</p>
<pre data-language="javascript">
  function id(x) {
    return x
  }
</pre>
<script>
  highlightAllCode()
</script>
